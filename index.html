<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>Ø¸Ù„Ø§Ù† - ØªØ¹Ù„ÙŠÙ… Ø¨Ø§ÙŠØ«ÙˆÙ† Ù…Ù† Ø§Ù„ØµÙØ± Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta
      name="description"
      content="ØªØ¹Ù„Ù… Ø¨Ø§ÙŠØ«ÙˆÙ† Ù…Ù† Ø§Ù„ØµÙØ± Ø­ØªÙ‰ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù Ù…Ø¹ Ø¸Ù„Ø§Ù† - Ø¯Ø±ÙˆØ³ ØªÙØ§Ø¹Ù„ÙŠØ©ØŒ ÙÙŠØ¯ÙŠÙˆØŒ Ø§Ø®ØªØ¨Ø§Ø±Ø§ØªØŒ Ù†Ù‚Ø§Ø·ØŒ Ø´Ø§Ø±Ø§ØªØŒ ØªÙ‚Ø¯Ù… Ø´Ø®ØµÙŠ."
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #0077b6;
        --secondary: #03045e;
        --accent: #f9c846;
        --bg: #f4faff;
        --radius: 16px;
        --success: #27ae60;
        --danger: #c0392b;
        --progress: #48cae4;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        margin: 0;
        padding: 0;
        font-family: "Cairo", Arial, sans-serif;
        background: var(--bg);
        color: var(--secondary);
        scroll-behavior: smooth;
      }
      body {
        min-height: 100vh;
      }
      header {
        background: var(--secondary);
        color: #fff;
        position: sticky;
        top: 0;
        z-index: 99;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);
      }
      .navbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1280px;
        margin: 0 auto;
        padding: 0.8rem 1.2rem;
      }
      .logo {
        font-size: 2.2rem;
        font-weight: 800;
        letter-spacing: 1px;
        color: var(--accent);
        display: flex;
        align-items: center;
        gap: 7px;
      }
      .logo .material-icons {
        font-size: 2.2rem;
        color: #fff;
        background: var(--primary);
        border-radius: 50%;
        padding: 4px;
      }
      .navbar nav {
        display: flex;
        gap: 1.4rem;
      }
      .navbar nav a {
        color: #fff;
        text-decoration: none;
        font-size: 1.08rem;
        padding: 0.33rem 1.1rem;
        border-radius: var(--radius);
        display: flex;
        align-items: center;
        gap: 4px;
        transition: background 0.2s;
      }
      .navbar nav a:hover,
      .navbar nav a.active {
        background: var(--primary);
        color: #fff !important;
      }
      .menu-toggle {
        display: none;
        flex-direction: column;
        cursor: pointer;
      }
      .menu-toggle span {
        display: block;
        width: 28px;
        height: 4px;
        background: #fff;
        margin: 4px 0;
        border-radius: 3px;
      }
      /* Hero */
      .hero {
        background: linear-gradient(
          135deg,
          var(--primary) 60%,
          var(--secondary) 100%
        );
        color: #fff;
        padding: 78px 0 60px 0;
        text-align: center;
        position: relative;
        overflow: hidden;
      }
      .hero .material-icons {
        font-size: 5.2rem;
        color: #fff;
        margin-bottom: 18px;
        opacity: 0.85;
        text-shadow: 0 9px 35px #3334;
      }
      .hero h1 {
        font-size: 3.1rem;
        margin: 0 0 20px 0;
        font-weight: 900;
        letter-spacing: 1px;
        line-height: 1.25;
      }
      .hero p {
        font-size: 1.3rem;
        margin-bottom: 34px;
      }
      .hero .cta-btn {
        background: #fff;
        color: var(--primary);
        border: none;
        padding: 14px 38px;
        font-size: 1.17rem;
        border-radius: var(--radius);
        font-weight: bold;
        cursor: pointer;
        transition: background 0.2s, color 0.2s;
        box-shadow: 0 2px 16px #0001;
      }
      .hero .cta-btn:hover {
        background: var(--secondary);
        color: #fff;
      }
      .hero .hero-py-logo {
        position: absolute;
        left: 24px;
        top: 20px;
        opacity: 0.19;
        font-size: 8rem;
        pointer-events: none;
        z-index: 1;
        transition: opacity 0.5s;
      }
      @media (max-width: 600px) {
        .hero .hero-py-logo {
          left: 7px;
          top: 8px;
          font-size: 5.2rem;
        }
        .hero h1 {
          font-size: 2rem;
        }
      }
      /* Progress bar */
      .progress-container {
        width: 100%;
        margin: 24px 0 12px 0;
      }
      .progress-labels {
        display: flex;
        justify-content: space-between;
        font-size: 1rem;
        color: #555;
        margin-bottom: 4px;
        font-weight: 700;
      }
      .progress-bar-bg {
        background: #e3e9f5;
        border-radius: var(--radius);
        height: 18px;
        width: 100%;
        overflow: hidden;
      }
      .progress-bar {
        height: 100%;
        border-radius: var(--radius);
        background: linear-gradient(90deg, var(--progress), var(--primary) 85%);
        transition: width 0.4s;
        width: 0;
      }
      .progress-percent {
        text-align: center;
        color: var(--primary);
        font-weight: bold;
        margin-top: 8px;
        font-size: 1.08rem;
      }
      .level-badges {
        display: flex;
        gap: 12px;
        margin-top: 16px;
        justify-content: center;
      }
      .level-badge {
        background: var(--bg);
        color: var(--primary);
        border-radius: var(--radius);
        padding: 7px 18px;
        font-size: 1.12rem;
        font-weight: bold;
        box-shadow: 0 1px 10px #0001;
        display: flex;
        align-items: center;
        gap: 4px;
        transition: background 0.2s, color 0.2s;
      }
      .level-badge.active,
      .level-badge.earned {
        background: var(--primary);
        color: #fff;
      }
      .level-badge .material-icons {
        font-size: 1.15rem;
        vertical-align: middle;
      }
      /* Main Section */
      .main-content {
        display: flex;
        flex-wrap: wrap;
        gap: 45px;
      }
      .sidebar {
        min-width: 220px;
        max-width: 300px;
        width: 26%;
        background: #fff;
        border-radius: var(--radius);
        box-shadow: 0 2px 16px #0001;
        padding: 24px 20px 38px 20px;
        margin-bottom: 30px;
        position: sticky;
        top: 100px;
        align-self: flex-start;
      }
      .sidebar h3 {
        color: var(--primary);
        margin-top: 0;
        margin-bottom: 12px;
        font-size: 1.21rem;
      }
      .lesson-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .lesson-list li {
        margin-bottom: 10px;
      }
      .lesson-link {
        color: var(--secondary);
        background: #f8fafc;
        border-radius: var(--radius);
        padding: 9px 14px;
        font-size: 1.08rem;
        display: flex;
        align-items: center;
        gap: 7px;
        text-decoration: none;
        font-weight: 500;
        transition: background 0.2s, color 0.2s;
      }
      .lesson-link:hover,
      .lesson-link.active {
        background: var(--primary);
        color: #fff;
      }
      .lesson-link .material-icons {
        font-size: 1.15rem;
        color: var(--primary);
        margin-left: 3px;
        transition: color 0.2s;
      }
      .lesson-link.active .material-icons,
      .lesson-link:hover .material-icons {
        color: #fff;
      }
      .lesson-link.done {
        font-weight: bold;
      }
      /* Ø¯Ø±Ø³ */
      .lesson-content {
        flex: 1 1 420px;
        min-width: 0;
        background: #fff;
        border-radius: var(--radius);
        box-shadow: 0 2px 16px #0001;
        padding: 30px 24px 38px 24px;
        margin-bottom: 30px;
        position: relative;
      }
      .lesson-content h2 {
        color: var(--primary);
        font-size: 1.5rem;
        margin-bottom: 18px;
        text-align: right;
      }
      .lesson-content pre {
        background: #262626;
        color: #f4faff;
        padding: 16px;
        border-radius: var(--radius);
        font-family: "Cairo", "Consolas", monospace;
        font-size: 1.09rem;
        margin-bottom: 18px;
        overflow-x: auto;
      }
      .lesson-content code {
        background: #f7f3e9;
        color: var(--primary);
        border-radius: 6px;
        padding: 2px 6px;
      }
      .lesson-content ul,
      .lesson-content ol {
        margin: 10px 0 18px 0;
        padding-right: 22px;
      }
      .lesson-content .lesson-actions {
        display: flex;
        gap: 18px;
        margin-top: 24px;
      }
      .lesson-content .lesson-actions button {
        background: var(--primary);
        color: #fff;
        border: none;
        border-radius: var(--radius);
        padding: 11px 30px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.2s;
        box-shadow: 0 2px 14px #0001;
      }
      .lesson-content .lesson-actions button:disabled {
        background: #d1d1d1;
        color: #888;
        cursor: not-allowed;
      }
      .lesson-content .lesson-actions button:hover:enabled {
        background: var(--accent);
        color: var(--secondary);
      }
      /* Ø§Ø®ØªØ¨Ø§Ø± */
      .quiz-question {
        margin-bottom: 26px;
      }
      .quiz-options {
        display: flex;
        flex-direction: column;
        gap: 13px;
        margin-bottom: 14px;
      }
      .quiz-option {
        background: #f8fafc;
        color: #222;
        border-radius: var(--radius);
        padding: 10px 14px;
        font-size: 1.08rem;
        border: 2px solid transparent;
        cursor: pointer;
        text-align: right;
        outline: none;
        transition: background 0.2s, border 0.2s;
      }
      .quiz-option.selected {
        border: 2px solid var(--primary);
        background: #e0f7fa;
      }
      .quiz-option.correct {
        border: 2px solid var(--success);
        background: #eafaf1;
        color: var(--success);
      }
      .quiz-option.incorrect {
        border: 2px solid var(--danger);
        background: #fff0f0;
        color: var(--danger);
      }
      .quiz-feedback {
        font-size: 1.13rem;
        margin-bottom: 16px;
        font-weight: bold;
      }
      .quiz-feedback.success {
        color: var(--success);
      }
      .quiz-feedback.error {
        color: var(--danger);
      }
      .quiz-next-btn {
        background: var(--primary);
        color: #fff;
        border: none;
        padding: 10px 28px;
        border-radius: var(--radius);
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 1px 8px #0001;
        transition: background 0.2s;
        margin-top: 10px;
      }
      .quiz-next-btn:hover {
        background: var(--success);
      }
      .quiz-result {
        text-align: center;
        color: var(--primary);
        font-size: 1.35rem;
        margin: 36px 0 15px 0;
        font-weight: bold;
      }
      .quiz-retry-btn {
        background: var(--danger);
        color: #fff;
        border: none;
        border-radius: var(--radius);
        padding: 10px 22px;
        font-size: 1.08rem;
        cursor: pointer;
        transition: background 0.2s;
        margin-top: 10px;
      }
      .quiz-retry-btn:hover {
        background: var(--secondary);
      }
      .lesson-content .points-badge {
        background: var(--success);
        color: #fff;
        border-radius: 20px;
        padding: 5px 20px;
        font-size: 1.08rem;
        font-weight: bold;
        display: inline-block;
        margin-bottom: 20px;
        box-shadow: 0 1px 8px #0001;
      }
      /* Ø´Ø§Ø±Ø© */
      .badge-earned {
        background: var(--accent);
        color: var(--secondary);
        border-radius: 50px;
        padding: 7px 22px;
        font-size: 1.05rem;
        font-weight: bold;
        margin: 0 7px;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        box-shadow: 0 1px 8px #0002;
      }
      /* Ø´Ø±ÙŠØ· ØªÙ‚Ø¯Ù… Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
      @media (max-width: 900px) {
        .main-content {
          flex-direction: column;
          gap: 0;
        }
        .sidebar {
          width: 100%;
          max-width: 100%;
          min-width: 0;
          position: static;
          margin-bottom: 16px;
        }
      }
      @media (max-width: 600px) {
        .navbar {
          flex-direction: column;
          align-items: flex-start;
          padding: 0.7rem 0.55rem;
        }
        .navbar nav {
          flex-direction: column;
          width: 100%;
          display: none;
          gap: 0;
        }
        .navbar nav.show {
          display: flex;
        }
        .navbar nav a {
          padding: 0.7rem 0.4rem;
          width: 100%;
        }
        .menu-toggle {
          display: flex;
          margin-right: 0.5rem;
        }
      }
      /* Footer */
      footer {
        background: var(--secondary);
        color: #fff;
        text-align: center;
        padding: 18px 0;
        font-size: 1.05rem;
        margin-top: 40px;
        letter-spacing: 0.5px;
      }
      /* Ø²Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø¹Ø§Ø¦Ù… */
      .whatsapp-float {
        position: fixed;
        left: 18px;
        bottom: 18px;
        z-index: 99;
      }
      .whatsapp-btn {
        background: #25d366;
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 64px;
        height: 64px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2.7rem;
        box-shadow: 0 2px 16px #2223;
        cursor: pointer;
        transition: background 0.2s, transform 0.1s;
      }
      .whatsapp-btn:hover {
        background: #128c7e;
        transform: scale(1.11);
      }
    </style>
  </head>
  <body>
    <header>
      <div class="navbar">
        <span class="logo"
          ><span class="material-icons">emoji_objects</span> Ø¸Ù„Ø§Ù†</span
        >
        <div class="menu-toggle" onclick="toggleMenu()">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <nav id="main-nav">
          <a href="#home" class="active"
            ><span class="material-icons" style="font-size: 1.1rem">home</span
            >Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a
          >
          <a href="#python"
            ><span class="material-icons" style="font-size: 1.1rem">code</span
            >ØªØ¹Ù„ÙŠÙ… Ø¨Ø§ÙŠØ«ÙˆÙ†</a
          >
          <a href="#progress"
            ><span class="material-icons" style="font-size: 1.1rem">star</span
            >ØªÙ‚Ø¯Ù…Ùƒ</a
          >
          <a href="#contact"
            ><span class="material-icons" style="font-size: 1.1rem">mail</span
            >ØªÙˆØ§ØµÙ„</a
          >
        </nav>
      </div>
    </header>

    <section class="hero" id="home">
      <span class="material-icons">python</span>
      <h1>
        ØªØ¹Ù„Ù… Ø¨Ø§ÙŠØ«ÙˆÙ† Ù…Ù† Ø§Ù„ØµÙØ± Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù Ù…Ø¹
        <span style="color: #ffe">Ø¸Ù„Ø§Ù†</span>
      </h1>
      <p>
        Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ù…Ø¹ Ø£Ù‚ÙˆÙ‰ Ù…Ù†ØµØ© Ø¹Ø±Ø¨ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ø§ÙŠØ«ÙˆÙ†. Ø¯Ø±ÙˆØ³ -
        ØªÙ…Ø§Ø±ÙŠÙ† - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª - Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· - Ø´Ø§Ø±Ø§Øª - ØªÙ‚Ø¯Ù… Ø´Ø®ØµÙŠ - Ø¯Ø¹Ù… Ø³Ø±ÙŠØ¹.
      </p>
      <button
        class="cta-btn"
        onclick="document.getElementById('python').scrollIntoView({behavior:'smooth'})"
      >
        Ø§Ø¨Ø¯Ø£ ØªØ¹Ù„ÙŠÙ… Ø¨Ø§ÙŠØ«ÙˆÙ† Ø§Ù„Ø¢Ù†
      </button>
      <span class="material-icons hero-py-logo">python</span>
    </section>

    <!-- Ø´Ø±ÙŠØ· ØªÙ‚Ø¯Ù… ÙˆÙ†Ù‚Ø§Ø· -->
    <section id="progress">
      <h2>ØªÙ‚Ø¯Ù…Ùƒ ÙÙŠ ØªØ¹Ù„Ù… Ø¨Ø§ÙŠØ«ÙˆÙ†</h2>
      <div class="progress-container">
        <div class="progress-labels">
          <span>Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…Ù†Ø¬Ø²Ø©</span>
          <span id="badge-points"></span>
        </div>
        <div class="progress-bar-bg">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="progress-percent" id="progress-percent"></div>
        <div class="level-badges" id="level-badges">
          <!-- Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
        </div>
      </div>
    </section>

    <!-- ØªØ¹Ù„ÙŠÙ… Ø¨Ø§ÙŠØ«ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ -->
    <section id="python">
      <h2>
        <span
          class="material-icons"
          style="vertical-align: -4px; color: var(--primary)"
          >python</span
        >ØªØ¹Ù„ÙŠÙ… Ø¨Ø§ÙŠØ«ÙˆÙ† Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
      </h2>
      <div class="main-content">
        <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ù„Ø¯Ø±ÙˆØ³ -->
        <aside class="sidebar">
          <h3>
            <span class="material-icons" style="font-size: 1.1rem"
              >menu_book</span
            >Ø¯Ø±ÙˆØ³ Ø¨Ø§ÙŠØ«ÙˆÙ†
          </h3>
          <ul class="lesson-list" id="lesson-list">
            <!-- Ø§Ù„Ø¯Ø±ÙˆØ³ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§ -->
          </ul>
        </aside>
        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±Ø³ Ø£Ùˆ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
        <div class="lesson-content" id="lesson-content">
          <!-- Ø§Ù„Ø¯Ø±Ø³ ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
        </div>
      </div>
    </section>

    <!-- Ø²Ø± Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ ÙˆØ§ØªØ³Ø§Ø¨ -->
    <a
      class="whatsapp-float"
      href="https://wa.me/967774722964"
      title="ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨"
      target="_blank"
    >
      <span class="whatsapp-btn material-icons">whatsapp</span>
    </a>

    <section id="contact">
      <h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
      <form class="contact-form" id="contactForm" autocomplete="off">
        <input type="text" name="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required />
        <input
          type="email"
          name="email"
          placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"
          required
        />
        <textarea
          name="message"
          placeholder="Ø±Ø³Ø§Ù„ØªÙƒ Ø£Ùˆ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ"
          required
        ></textarea>
        <button type="submit">
          <span class="material-icons" style="vertical-align: middle"
            >send</span
          >
          Ø¥Ø±Ø³Ø§Ù„
        </button>
        <div id="formMsg"></div>
      </form>
    </section>

    <footer>
      Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; Ø¸Ù„Ø§Ù† 2025 | Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ… Ø¨Ø§ÙŠØ«ÙˆÙ† Ù…Ù† Ø§Ù„ØµÙØ± Ø¥Ù„Ù‰
      Ø§Ù„Ø§Ø­ØªØ±Ø§Ù
    </footer>

    <script>
      // Ø¯Ø±ÙˆØ³ Ø¨Ø§ÙŠØ«ÙˆÙ† Ù†ØµÙŠØ© ÙˆÙÙŠØ¯ÙŠÙˆ + Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
      const lessons = [
        {
          id: 0,
          title: "Ù…Ù‚Ø¯Ù…Ø© Ø¹Ù† Ù„ØºØ© Ø¨Ø§ÙŠØ«ÙˆÙ†",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +10 Ù†Ù‚Ø§Ø·</div>
                <p>Ø¨Ø§ÙŠØ«ÙˆÙ† Ù…Ù† Ø£Ø³Ù‡Ù„ Ù„ØºØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØ£ÙƒØ«Ø±Ù‡Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‹Ø§ Ø¹Ø§Ù„Ù…ÙŠÙ‹Ø§.</p>
                <ul>
                    <li>Ø£ÙˆÙ„ Ø¸Ù‡ÙˆØ± Ù„Ù‡Ø§ Ø³Ù†Ø© 1991.</li>
                    <li>Ø³Ù‡Ù„Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©.</li>
                    <li>ØªØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ Ø§Ù„ÙˆÙŠØ¨ØŒ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨...</li>
                </ul>
            `,
          video: "https://www.youtube.com/embed/rfscVS0vtbw",
          quiz: {
            question: "Ù„Ù…Ø§Ø°Ø§ ØªØ¹ØªØ¨Ø± Ø¨Ø§ÙŠØ«ÙˆÙ† Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ù…Ø´Ù‡ÙˆØ±Ø©ØŸ",
            options: [
              "Ù„Ø£Ù†Ù‡Ø§ ØµØ¹Ø¨Ø© ÙˆÙ…Ø¹Ù‚Ø¯Ø©",
              "Ù„Ø£Ù†Ù‡Ø§ Ø³Ù‡Ù„Ø© ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª",
              "Ù„Ø£Ù†Ù‡Ø§ Ù„ØºØ© Ù‚Ø¯ÙŠÙ…Ø© ÙÙ‚Ø·",
            ],
            answer: 1,
          },
        },
        {
          id: 1,
          title: "ØªØ«Ø¨ÙŠØª Ø¨Ø§ÙŠØ«ÙˆÙ† Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +10 Ù†Ù‚Ø§Ø·</div>
                <ol>
                    <li>Ø§Ø¯Ø®Ù„ <a href="https://python.org" target="_blank">python.org</a></li>
                    <li>Ø­Ù…Ù‘Ù„ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù†Ø¸Ø§Ù…Ùƒ</li>
                    <li>Ø«Ø¨Ù‘Øª Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙƒØ£ÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¢Ø®Ø±</li>
                </ol>
            `,
          video: "https://www.youtube.com/embed/Uh2ebFW8OYM",
          quiz: {
            question: "Ù…Ù† Ø£ÙŠÙ† ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø¨Ø§ÙŠØ«ÙˆÙ†ØŸ",
            options: ["python.org", "google.com", "facebook.com"],
            answer: 0,
          },
        },
        {
          id: 2,
          title: "ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¨Ø§ÙŠØ«ÙˆÙ†",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +10 Ù†Ù‚Ø§Ø·</div>
                <p>Ø§ÙØªØ­ Ø¨Ø±Ù†Ø§Ù…Ø¬ IDLE Ø£Ùˆ VSCode ÙˆØ§ÙƒØªØ¨:</p>
                <pre>print("Hello, Python!")</pre>
                <p>Ø´ØºÙ‘Ù„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆØ³ØªØ´Ø§Ù‡Ø¯ Ø§Ù„Ù†ØªÙŠØ¬Ø©.</p>
            `,
          video: "https://www.youtube.com/embed/ERCMXc8x7mc",
          quiz: {
            question: "Ø£ÙŠ Ø£Ù…Ø± ÙŠØ·Ø¨Ø¹ Ù†Øµ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©ØŸ",
            options: ["echo()", "print()", "output()"],
            answer: 1,
          },
        },
        {
          id: 3,
          title: "Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +12 Ù†Ù‚Ø§Ø·</div>
                <ul>
                    <li>int: Ø£Ø¹Ø¯Ø§Ø¯ ØµØ­ÙŠØ­Ø©</li>
                    <li>float: Ø£Ø¹Ø¯Ø§Ø¯ Ø¹Ø´Ø±ÙŠØ©</li>
                    <li>str: Ù†ØµÙˆØµ</li>
                    <li>bool: Ù…Ù†Ø·Ù‚ÙŠØ© (True/False)</li>
                </ul>
                <pre>
name = "Ø³Ø§Ø±Ø©"
age = 20
is_student = True
                </pre>
            `,
          quiz: {
            question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ù…ØªØºÙŠØ± <code>x = 2.5</code>ØŸ",
            options: ["int", "float", "str"],
            answer: 1,
          },
        },
        {
          id: 4,
          title: "Ø¹Ù…Ù„ÙŠØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØªØ®ØµÙŠØµ Ù…ØªØºÙŠØ±Ø§Øª",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +12 Ù†Ù‚Ø§Ø·</div>
                <pre>
a = 10
b = 3
print(a + b)  # Ø¬Ù…Ø¹
print(a * b)  # Ø¶Ø±Ø¨
print(a / b)  # Ù‚Ø³Ù…Ø©
print(a % b)  # Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù‚Ø³Ù…Ø©
                </pre>
            `,
          quiz: {
            question: "Ù…Ø§ Ù†ØªÙŠØ¬Ø© <code>7 % 3</code>ØŸ",
            options: ["1", "2", "3"],
            answer: 1,
          },
        },
        {
          id: 5,
          title: "ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„ÙƒÙˆØ¯",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +8 Ù†Ù‚Ø§Ø·</div>
                <p>Ø£ÙŠ Ù†Øµ Ø¨Ø¹Ø¯ Ø¹Ù„Ø§Ù…Ø© <code>#</code> ÙŠØ¹ØªØ¨Ø± ØªØ¹Ù„ÙŠÙ‚Ù‹Ø§ ÙˆÙ„Ø§ ÙŠÙ†ÙØ°.</p>
                <pre>
# Ù‡Ø°Ø§ ØªØ¹Ù„ÙŠÙ‚
print("Ù…Ø±Ø­Ø¨Ù‹Ø§")  # Ù‡Ø°Ø§ Ø£ÙŠØ¶Ø§ ØªØ¹Ù„ÙŠÙ‚
                </pre>
            `,
          quiz: {
            question: "Ù…Ø§ ÙØ§Ø¦Ø¯Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ØŸ",
            options: ["ØªØ¬Ø¹Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø£Ø³Ø±Ø¹", "ØªÙˆØ¶Ø­ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬ÙŠÙ†", "ØªØ´ØºÙ„ Ø§Ù„ÙƒÙˆØ¯"],
            answer: 1,
          },
        },
        {
          id: 6,
          title: "Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +10 Ù†Ù‚Ø§Ø·</div>
                <pre>
name = input("Ù…Ø§ Ø§Ø³Ù…ÙƒØŸ ")
print("Ø£Ù‡Ù„Ø§Ù‹", name)
                </pre>
            `,
          quiz: {
            question: "Ø£ÙŠ Ø¯Ø§Ù„Ø© ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø¯Ø®Ù„ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ",
            options: ["input()", "read()", "get()"],
            answer: 0,
          },
        },
        {
          id: 7,
          title: "Ø§Ù„Ø´Ø±ÙˆØ· (if / elif / else)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +14 Ù†Ù‚Ø§Ø·</div>
                <pre>
age = 18
if age >= 18:
    print("Ø¨Ø§Ù„Øº")
else:
    print("Ù‚Ø§ØµØ±")
                </pre>
            `,
          quiz: {
            question: "Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ Ø¬Ù…Ù„Ø© Ø´Ø±Ø·ÙŠØ© ØµØ­ÙŠØ­Ø©ØŸ",
            options: [
              'if x > 0: print("ok")',
              'if x > 0 then print("ok")',
              'if x > 0 { print("ok") }',
            ],
            answer: 0,
          },
        },
        {
          id: 8,
          title: "Ø§Ù„Ø­Ù„Ù‚Ø§Øª (for)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +14 Ù†Ù‚Ø§Ø·</div>
                <pre>
for i in range(5):
    print(i)
                </pre>
                <p>ØªØ·Ø¨Ø¹: 0 1 2 3 4</p>
            `,
          quiz: {
            question: "ÙƒÙ… Ù…Ø±Ø© Ø³ÙŠÙ†ÙØ° Ø§Ù„ÙƒÙˆØ¯ <code>for i in range(3):</code>ØŸ",
            options: ["2 Ù…Ø±Ø§Øª", "3 Ù…Ø±Ø§Øª", "4 Ù…Ø±Ø§Øª"],
            answer: 1,
          },
        },
        {
          id: 9,
          title: "Ø§Ù„Ø­Ù„Ù‚Ø§Øª (while)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +12 Ù†Ù‚Ø§Ø·</div>
                <pre>
count = 0
while count < 3:
    print(count)
    count += 1
                </pre>
            `,
          quiz: {
            question: "Ù…ØªÙ‰ ØªØªÙˆÙ‚Ù Ø­Ù„Ù‚Ø© whileØŸ",
            options: [
              "Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø±Ø·",
              "Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ ÙŠØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø±Ø·",
              "Ø¨Ø¹Ø¯ 5 Ù…Ø±Ø§Øª Ø¯Ø§Ø¦Ù…Ù‹Ø§",
            ],
            answer: 1,
          },
        },
        {
          id: 10,
          title: "Ø§Ù„Ø¯ÙˆØ§Ù„ (functions)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +15 Ù†Ù‚Ø§Ø·</div>
                <pre>
def say_hello():
    print("Ø£Ù‡Ù„Ø§Ù‹!")
say_hello()
                </pre>
            `,
          quiz: {
            question: "ÙƒÙŠÙ ØªÙ†Ø´Ø¦ Ø¯Ø§Ù„Ø© ÙÙŠ Ø¨Ø§ÙŠØ«ÙˆÙ†ØŸ",
            options: ["def myfunc():", "function myfunc()", "create myfunc()"],
            answer: 0,
          },
        },
        {
          id: 11,
          title: "Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… (lists)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +12 Ù†Ù‚Ø§Ø·</div>
                <pre>
names = ["Ø¹Ù„ÙŠ", "Ø³Ø§Ø±Ø©", "Ù…Ø­Ù…Ø¯"]
print(names[0])  # Ø¹Ù„ÙŠ
                </pre>
            `,
          quiz: {
            question: "ÙƒÙ… Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© <code>[1,2,3]</code>ØŸ",
            options: ["2", "3", "4"],
            answer: 1,
          },
        },
        {
          id: 12,
          title: "Ø§Ù„Ù‚ÙˆØ§Ù…ÙŠØ³ (dict)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +12 Ù†Ù‚Ø§Ø·</div>
                <pre>
person = {"name": "Ø£Ø­Ù…Ø¯", "age": 22}
print(person["name"])
                </pre>
            `,
          quiz: {
            question: "ÙƒÙŠÙ Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© 'age' ÙÙŠ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³ØŸ",
            options: ['person["age"]', "person.age", "person[age]"],
            answer: 0,
          },
        },
        {
          id: 13,
          title: "Ø³Ù„Ø§Ø³Ù„ Ø§Ù„Ù†ØµÙˆØµ (Strings)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +10 Ù†Ù‚Ø§Ø·</div>
                <pre>
text = "Hello"
print(text.upper())
print(text[1])  # e
                </pre>
            `,
          quiz: {
            question: "Ù…Ø§ Ù†ØªÙŠØ¬Ø© <code>'hi'.upper()</code>ØŸ",
            options: ["HI", "hi", "Hi"],
            answer: 0,
          },
        },
        {
          id: 14,
          title: "Ø¯Ø§Ù„Ø© range Ùˆ enumerate",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +8 Ù†Ù‚Ø§Ø·</div>
                <pre>
for i in range(3, 7):
    print(i)
                </pre>
                <pre>
for idx, val in enumerate(['a','b']):
    print(idx, val)
                </pre>
            `,
          quiz: {
            question: "Ù…Ø§ Ù†ØªÙŠØ¬Ø© <code>range(2,5)</code>ØŸ",
            options: ["2,3,4,5", "2,3,4", "3,4,5"],
            answer: 1,
          },
        },
        {
          id: 15,
          title: "Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +14 Ù†Ù‚Ø§Ø·</div>
                <pre>
with open('file.txt','w') as f:
    f.write("Ù…Ø±Ø­Ø¨Ù‹Ø§")
                </pre>
            `,
          video: "https://www.youtube.com/embed/Uh2ebFW8OYM",
          quiz: {
            question: "Ø£ÙŠ Ø£Ù…Ø± ÙŠÙØªØ­ Ù…Ù„Ù Ù„Ù„ÙƒØªØ§Ø¨Ø©ØŸ",
            options: [
              "open('file.txt','w')",
              "open('file.txt','r')",
              "open('file.txt','a')",
            ],
            answer: 0,
          },
        },
        {
          id: 16,
          title: "Ø§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª (Exceptions)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +12 Ù†Ù‚Ø§Ø·</div>
                <pre>
try:
    x = 1 / 0
except ZeroDivisionError:
    print("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù‚Ø³Ù…Ø©")
                </pre>
            `,
          quiz: {
            question: "ÙÙŠ Ù…Ø§Ø°Ø§ ØªØ³ØªØ®Ø¯Ù… try/exceptØŸ",
            options: ["ØªÙ†ÙÙŠØ° Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø±Ø¹", "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡", "ØªÙƒØ±Ø§Ø± Ø§Ù„ÙƒÙˆØ¯"],
            answer: 1,
          },
        },
        {
          id: 17,
          title: "Ø§Ù„ÙˆØ­Ø¯Ø§Øª (Modules)",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +12 Ù†Ù‚Ø§Ø·</div>
                <pre>
import math
print(math.sqrt(16))
                </pre>
            `,
          quiz: {
            question: "Ù…Ø§ ÙØ§Ø¦Ø¯Ø© modulesØŸ",
            options: ["ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯", "Ø¥Ø¶Ø§ÙØ© Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ø©", "ÙƒÙ„ Ù…Ø§ Ø³Ø¨Ù‚"],
            answer: 2,
          },
        },
        {
          id: 18,
          title: "Ù…ÙƒØªØ¨Ø© random",
          content: `
                <div class="points-badge"><span class="material-icons">star</span> +10 Ù†Ù‚Ø§Ø·</div>
                <pre>
import random
print(random.randint(1,10))
                </pre>
            `,
          quiz: {
            question: "Ø£ÙŠ Ù…ÙƒØªØ¨Ø© Ù„Ø¥Ù†ØªØ§Ø¬ Ø£Ø±Ù‚Ø§Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©ØŸ",
            options: ["random", "math", "os"],
            answer: 0,
          },
        },
        {
          id: 19,
          title: "Ù…Ø´Ø±ÙˆØ¹ ØµØºÙŠØ±: Ø¢Ù„Ø© Ø¬Ù…Ø¹ Ø¨Ø³ÙŠØ·Ø©",
          content: `
                <div class="points-badge"><span class="material-icons">emoji_events</span> +20 Ù†Ù‚Ø§Ø·</div>
                <p><b>ØªØ­Ø¯ÙŠ:</b> Ø£Ù†Ø´Ø¦ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ·Ù„Ø¨ Ø±Ù‚Ù…ÙŠÙ† Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙŠØ·Ø¨Ø¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡Ù…Ø§.</p>
                <pre>
a = int(input("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙˆÙ„: "))
b = int(input("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: "))
print("Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:", a+b)
                </pre>
            `,
          video: "https://www.youtube.com/embed/8ext9G7xspg",
          quiz: {
            question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø§Ù„Ø© inputØŸ",
            options: [
              "ØªØ±Ø¬Ø¹ Ù†ØµÙ‹Ø§",
              "ØªØ±Ø¬Ø¹ Ø¹Ø¯Ø¯Ù‹Ø§ ØµØ­ÙŠØ­Ù‹Ø§",
              "ØªØ±Ø¬Ø¹ Ù‚ÙŠÙ…Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¨Ø§Ø´Ø±Ø©",
            ],
            answer: 0,
          },
        },
        {
          id: 20,
          title: "Ù…Ø´Ø±ÙˆØ¹ Ù†Ù‡Ø§Ø¦ÙŠ: Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©",
          content: `
                <div class="points-badge"><span class="material-icons">emoji_events</span> +30 Ù†Ù‚Ø§Ø·</div>
                <p>Ø£Ù†Ø´Ø¦ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ø¨Ø³ÙŠØ·Ø© ØªØ¬Ù…Ø¹ ÙˆØªØ·Ø±Ø­ ÙˆØªØ¶Ø±Ø¨ ÙˆØªÙ‚Ø³Ù… Ø±Ù‚Ù…ÙŠÙ†.</p>
                <pre>
a = float(input("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙˆÙ„: "))
b = float(input("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: "))
op = input("Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (+ - * /): ")

if op == "+":
    print(a + b)
elif op == "-":
    print(a - b)
elif op == "*":
    print(a * b)
elif op == "/":
    print(a / b)
else:
    print("Ø¹Ù…Ù„ÙŠØ© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©")
                </pre>
            `,
          video: "https://www.youtube.com/embed/kqtD5dpn9C8",
          quiz: {
            question: "Ø£ÙŠ Ø´Ø±Ø· ÙŠØªØ­Ù‚Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ù‚Ø³Ù…Ø©ØŸ",
            options: ["op == '-'", "op == '/'", "op == '*'"],
            answer: 1,
          },
        },
      ];

      // Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
      const badges = [
        { min: 10, label: "Ù…Ø¨ØªØ¯Ø¦ Ø¨Ø§ÙŠØ«ÙˆÙ†", icon: "workspace_premium" },
        { min: 55, label: "Ù…ØªØ¹Ù„Ù… Ù†Ø´ÙŠØ·", icon: "emoji_events" },
        { min: 90, label: "Ù…ØªÙ…ÙƒÙ†", icon: "star" },
        { min: 150, label: "Ù…Ø­ØªØ±Ù Ø¨Ø§ÙŠØ«ÙˆÙ†", icon: "verified" },
      ];

      let userState = {
        completed: Array(lessons.length).fill(false),
        points: 0,
        badges: [],
        currentLesson: 0,
      };
      if (localStorage.getItem("zpy_user")) {
        userState = JSON.parse(localStorage.getItem("zpy_user"));
      }

      function renderLessonList() {
        const ul = document.getElementById("lesson-list");
        ul.innerHTML = "";
        for (let i = 0; i < lessons.length; i++) {
          const li = document.createElement("li");
          const a = document.createElement("a");
          a.href = "#";
          a.className =
            "lesson-link" +
            (userState.completed[i] ? " done" : "") +
            (userState.currentLesson === i ? " active" : "");
          a.dataset.lesson = i;
          a.innerHTML = `<span class="material-icons">${
            userState.completed[i] ? "check_circle" : "chevron_right"
          }</span> ${lessons[i].title}`;
          a.onclick = (e) => {
            e.preventDefault();
            openLesson(i);
          };
          li.appendChild(a);
          ul.appendChild(li);
        }
      }

      function openLesson(idx) {
        userState.currentLesson = idx;
        renderLessonList();
        renderLessonContent(idx);
        saveState();
        scrollToLesson();
      }

      function scrollToLesson() {
        setTimeout(() => {
          let el = document.getElementById("lesson-content");
          if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
        }, 120);
      }

      function renderLessonContent(idx) {
        const lesson = lessons[idx];
        let html = `<h2>${lesson.title}</h2>`;
        if (lesson.video) {
          html += `<div style="text-align:center;margin-bottom:16px;">
                <iframe width="98%" height="230" style="max-width:420px;border-radius:16px;" src="${lesson.video}" frameborder="0" allowfullscreen></iframe>
            </div>`;
        }
        html += lesson.content;
        if (!userState.completed[idx]) {
          html += `<div class="lesson-actions"><button onclick="startQuiz(${idx})">Ø§Ø¨Ø¯Ø£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯Ø±Ø³ <span class="material-icons" style="font-size:1rem;vertical-align:-3px;">quiz</span></button></div>`;
        } else {
          html += `<div class="lesson-actions"><button onclick="startQuiz(${idx})" style="background:var(--progress);color:var(--secondary);"><span class="material-icons" style="font-size:1rem;vertical-align:-3px;">quiz</span> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯Ø±Ø³</button>
            <button onclick="gotoNextLesson()" ${
              idx === lessons.length - 1 ? "disabled" : ""
            }><span class="material-icons" style="font-size:1rem;vertical-align:-3px;">navigate_next</span> Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>`;
        }
        document.getElementById("lesson-content").innerHTML = html;
      }

      function startQuiz(idx) {
        const quiz = lessons[idx].quiz;
        let html = `<h2><span class="material-icons" style="vertical-align:-5px;color:var(--primary)">quiz</span> Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯Ø±Ø³</h2>`;
        html += `<div class="quiz-question">${quiz.question}</div>`;
        html += `<div class="quiz-options">`;
        for (let i = 0; i < quiz.options.length; i++) {
          html += `<div class="quiz-option" tabindex="0" onclick="selectOption(${idx},${i})" id="qopt-${i}">${quiz.options[i]}</div>`;
        }
        html += `</div>`;
        html += `<div class="quiz-feedback" id="quiz-feedback"></div>`;
        html += `<button class="quiz-next-btn" id="quiz-next-btn" onclick="submitQuiz(${idx})" disabled>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>`;
        document.getElementById("lesson-content").innerHTML = html;
        setTimeout(() => {
          document.getElementById("qopt-0").focus();
        }, 200);
      }
      let selectedOption = null;

      function selectOption(lessonIdx, optIdx) {
        const quiz = lessons[lessonIdx].quiz;
        selectedOption = optIdx;
        document
          .querySelectorAll(".quiz-option")
          .forEach((el) => el.classList.remove("selected"));
        document.getElementById(`qopt-${optIdx}`).classList.add("selected");
        document.getElementById("quiz-next-btn").disabled = false;
      }

      function submitQuiz(lessonIdx) {
        const quiz = lessons[lessonIdx].quiz;
        const correct = selectedOption === quiz.answer;
        let feedback = document.getElementById("quiz-feedback");
        let pointsThisLesson = parseInt(
          lessons[lessonIdx].content.match(/\+(\d+)/)?.[1] || "10"
        );
        document.querySelectorAll(".quiz-option").forEach((el, idx) => {
          el.onclick = null;
          el.tabIndex = -1;
          if (idx === quiz.answer) el.classList.add("correct");
          if (idx === selectedOption && idx !== quiz.answer)
            el.classList.add("incorrect");
        });
        document.getElementById("quiz-next-btn").disabled = true;
        if (correct) {
          feedback.innerHTML = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø±Ø§Ø¦Ø¹ ğŸ‰";
          feedback.className = "quiz-feedback success";
          if (!userState.completed[lessonIdx]) {
            userState.completed[lessonIdx] = true;
            userState.points += pointsThisLesson;
            updateProgress();
            setTimeout(() => {
              feedback.innerHTML += `<div class='badge-earned'><span class='material-icons'>star</span> Ø­ØµÙ„Øª Ø¹Ù„Ù‰ +${pointsThisLesson} Ù†Ù‚Ø·Ø©!</div>`;
            }, 400);
          }
        } else {
          feedback.innerHTML = "Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
          feedback.className = "quiz-feedback error";
        }

        setTimeout(() => {
          let html = `<div class="quiz-result">${
            correct ? "Ù…Ù…ØªØ§Ø²! Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­." : "Ù„Ù… ØªØ¬ØªØ² Ø§Ù„Ø¯Ø±Ø³."
          }</div>`;
          html += `<div class="lesson-actions">`;
          if (correct && lessonIdx < lessons.length - 1) {
            html += `<button onclick="gotoNextLesson()"><span class="material-icons" style="font-size:1rem;vertical-align:-3px;">navigate_next</span> Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„ØªØ§Ù„ÙŠ</button>`;
          }
          html += `<button class="quiz-retry-btn" onclick="openLesson(${lessonIdx})"><span class="material-icons" style="font-size:1rem;vertical-align:-3px;">replay</span> ${
            correct ? "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¯Ø±Ø³" : "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"
          }</button>`;
          html += `</div>`;
          feedback.innerHTML += html;
          saveState();
        }, 1100);
      }

      function gotoNextLesson() {
        let idx = userState.currentLesson;
        if (idx < lessons.length - 1) {
          openLesson(idx + 1);
        }
      }

      function updateProgress() {
        let done = userState.completed.filter(Boolean).length;
        let percent = Math.round((100 * done) / lessons.length);
        document.getElementById("progress-bar").style.width = percent + "%";
        document.getElementById(
          "progress-percent"
        ).textContent = `Ø£Ù†Ù‡ÙŠØª ${done} Ù…Ù† ${lessons.length} (${percent}%)`;
        document.getElementById(
          "badge-points"
        ).innerHTML = `<span class="material-icons" style="color:var(--accent);vertical-align:-2px;font-size:1.2rem;">star</span> ${userState.points} Ù†Ù‚Ø·Ø©`;
        let earned = [];
        for (const badge of badges) {
          if (userState.points >= badge.min) earned.push(badge);
        }
        let html = "";
        for (const badge of badges) {
          html += `<div class="level-badge${
            earned.includes(badge) ? " active" : ""
          }"><span class="material-icons">${badge.icon}</span> ${
            badge.label
          }</div>`;
        }
        document.getElementById("level-badges").innerHTML = html;
        userState.badges = earned.map((b) => b.label);
        saveState();
      }

      function saveState() {
        localStorage.setItem("zpy_user", JSON.stringify(userState));
      }

      function initPythonLearn() {
        renderLessonList();
        openLesson(userState.currentLesson || 0);
        updateProgress();
      }
      window.openLesson = openLesson;
      window.startQuiz = startQuiz;
      window.selectOption = selectOption;
      window.submitQuiz = submitQuiz;
      window.gotoNextLesson = gotoNextLesson;

      function toggleMenu() {
        const nav = document.getElementById("main-nav");
        nav.classList.toggle("show");
      }
      document.addEventListener("click", function (e) {
        if (!e.target.closest(".navbar")) {
          document.getElementById("main-nav").classList.remove("show");
        }
      });

      const navLinks = document.querySelectorAll(".navbar nav a");
      window.addEventListener("scroll", () => {
        let fromTop = window.scrollY + 80;
        navLinks.forEach((link) => {
          const section = document.querySelector(link.getAttribute("href"));
          if (
            section &&
            section.offsetTop <= fromTop &&
            section.offsetTop + section.offsetHeight > fromTop
          ) {
            navLinks.forEach((l) => l.classList.remove("active"));
            link.classList.add("active");
          }
        });
      });

      document
        .getElementById("contactForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          let name = this.name.value.trim();
          let email = this.email.value.trim();
          let msg = this.message.value.trim();
          let formMsg = document.getElementById("formMsg");

          if (name.length < 3 || !email.includes("@") || msg.length < 5) {
            formMsg.innerHTML =
              '<div class="error-msg">ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.</div>';
            return;
          }
          let waMsg = `Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ Ù„Ø¯ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ø¸Ù„Ø§Ù† Ø¨Ø§ÙŠØ«ÙˆÙ†:\nØ§Ù„Ø§Ø³Ù…: ${name}\nØ§Ù„Ø¨Ø±ÙŠØ¯: ${email}\nØ§Ù„Ø±Ø³Ø§Ù„Ø©: ${msg}`;
          let encodedMsg = encodeURIComponent(waMsg);
          let phone = "967774722964";
          let waUrl = `https://wa.me/${phone}?text=${encodedMsg}`;
          window.open(waUrl, "_blank");
          formMsg.innerHTML =
            '<div class="success-msg">Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ø¥Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ.</div>';
          this.reset();
        });

      window.onload = initPythonLearn;
      window.gotoNextLesson = gotoNextLesson;
    </script>
  </body>
</html>
