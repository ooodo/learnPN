<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù†ÙˆÙØ§ - ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0;}
    html, body { width: 100%; height: 100%; min-height: 100vh;}
    body {
      min-height: 100vh; min-width: 100vw; overflow: hidden;
      background: linear-gradient(135deg, #000012 0%, #1a0000 100%);
      display: flex; align-items: center; justify-content: center;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      color: #ff5522; position: relative; z-index: 1;
    }
    #starCanvas {
      position: fixed; inset: 0; width: 100vw; height: 100vh; z-index: 0;
      pointer-events: none; display: block;
      background: radial-gradient(ellipse at 70% 10%, #1b0030 0%, #230000 70%, #000 100%);
      opacity: 0.92; animation: bgPulse 20s ease-in-out infinite alternate;
      transition: background 1.5s;
    }
    @keyframes bgPulse {
      0% { filter: brightness(1) blur(0px);}
      100% { filter: brightness(1.06) blur(1.2px);}
    }
    .neon-glow {
      box-shadow: 0 0 22px 3px #ff6622cc, 0 0 85px 10px #ff662288, 0 0 220px 40px #ff440022, 0 0 12px 1px #fff0, inset 0 0 18px #ff773355;
      filter: saturate(1.2) brightness(1.05);
      transition: box-shadow 0.5s, filter 0.25s;
    }
    .box {
      position: relative;
      background: linear-gradient(120deg, #180a08f7 40%, #230000d1 100%);
      border-radius: 30px;
      border: 4px solid #ff4400;
      padding: 44px 56px 40px 56px;
      max-width: 100vw;
      width: 390px;
      margin: 0 16px;
      box-shadow: 0 0 44px #ff4400, 0 0 0 2px #ff6622bb, 0 0 80px #ff440033, 0 0 120px #ff440022, 0 4px 15px #370500;
      z-index: 5;
      transition: box-shadow 0.3s;
      animation: boxFadeIn 2s both;
      backdrop-filter: blur(2.5px) brightness(1.09);
      overflow: visible;
    }
    @media (max-width: 480px) {
      .box {
        width: 97vw; padding: 22px 4vw 21px 4vw; border-radius: 18px;
      }
    }
    @keyframes boxFadeIn {
      0% { transform: scale(0.88) translateY(80px); opacity: 0;}
      100% { transform: scale(1) translateY(0); opacity: 1;}
    }
    h1 {
      font-size: 2.8rem; text-align: center; margin-bottom: 33px;
      color: #ff6622;
      text-shadow: 0 0 10px #ff6622, 0 0 20px #ff6622, 0 0 30px #ff2200, 0 0 40px #ff2200, 0 0 50px #ff6622, 0 0 60px #ff6622;
      animation: glow 2.8s ease-in-out infinite alternate;
      user-select: none; letter-spacing: 0.09em; font-family: "Tajawal", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; font-weight: 900;
    }
    @keyframes glow {
      0% { text-shadow: 0 0 10px #ff6622, 0 0 20px #ff6622, 0 0 30px #ff2200, 0 0 40px #ff2200, 0 0 50px #ff6622, 0 0 60px #ff6622;}
      100% { text-shadow: 0 0 20px #ff8844, 0 0 30px #ff8844, 0 0 40px #ff4400, 0 0 50px #ff4400, 0 0 60px #ff8844, 0 0 70px #ff8844;}
    }
    #logo {
      position: absolute; top: 20px; right: 32px; font-size: 1.43rem; font-weight: 900;
      color: #ff7733; letter-spacing: 7px; text-shadow: 0 0 12px #ff7733, 0 0 25px #ff4400;
      user-select: none; text-align: right; z-index: 20; filter: drop-shadow(0 0 30px #ff773377);
      animation: logoPulse 3.4s infinite alternate cubic-bezier(0.45, 1.6, 0.45, 1);
    }
    @media (max-width: 480px) {
      #logo { font-size: 1.1rem; right: 12px; top: 10px;}
    }
    @keyframes logoPulse {
      0% { text-shadow: 0 0 12px #ff7733, 0 0 25px #ff4400;}
      100% { text-shadow: 0 0 24px #ffbb88, 0 0 38px #ff5522;}
    }
    input {
      width: 100%; padding: 17px 19px 15px 19px; margin-bottom: 28px;
      border-radius: 21px; border: none; background: #2a0a00f2; color: #ffb585;
      font-size: 1.18rem; box-shadow: inset 0 0 13px #ff5511cc;
      transition: all 0.27s; font-family: "Tajawal", "Segoe UI", Tahoma, sans-serif; outline: 0;
    }
    input::placeholder { color: #ff7533cc; letter-spacing: 0.02em; font-size: 1.08em;}
    input:focus {
      background: #3c1300fa; color: #fff2e6;
      box-shadow: 0 0 11px #ff6622, inset 0 0 25px #ff6622;
      border: 2.5px solid #ff8844;
    }
    button {
      width: 100%; padding: 17px 0 15px 0; border-radius: 30px; border: none;
      background: linear-gradient(90deg, #ff4500, #ff6600 50%, #ff4500);
      color: white; font-size: 1.42rem; font-weight: 900; cursor: pointer;
      box-shadow: 0 0 29px #ff5522, inset 0 0 13px #ffcc99, 0 2px 10px #47000066;
      user-select: none; margin-bottom: 9px; transition: 0.25s; letter-spacing: 2px; outline: 0;
    }
    button:hover, button:focus {
      background: linear-gradient(90deg, #ff6622, #ff8844 50%, #ff6622);
      box-shadow: 0 0 50px #ff6622, inset 0 0 25px #ff6622;
      filter: brightness(1.09) saturate(1.08);
    }
    .switch-text {
      margin-top: 22px; color: #ff9966cc; cursor: pointer; font-weight: 700; text-align: center; user-select: none; text-shadow: 0 0 7px #ff5522; transition: 0.2s, text-shadow 0.4s; font-size: 1.07em;
    }
    .switch-text:hover { color: #ffb377; text-shadow: 0 0 16px #ff7733, 0 0 24px #ffb37722; font-size: 1.11em;}
    .error { background: #660000cc; padding: 12px; border-radius: 12px; color: #ffbbbb; margin-bottom: 25px; text-align: center; box-shadow: 0 0 10px #aa2222; font-size: 1.09em; letter-spacing: 0.01em;}
    .hidden { display: none !important;}
    #successBox {
      background: #fff6; color: #ff4400; font-size: 2.25rem; font-weight: 900;
      border-color: #ff4400; user-select: none; text-align: center;
      padding: 52px 18px; box-shadow: 0 0 40px #ff4400, inset 0 0 50px #ff4400;
      border-radius: 30px; letter-spacing: 0.08em;
      text-shadow: 0 0 12px #ff440055, 0 0 1px #fff;
      word-break: break-word; animation: boxFadeIn 2s both;
      font-family: "Tajawal", "Segoe UI", Tahoma, sans-serif;
    }
    .box:after {
      content: ""; position: absolute; inset: -6px; border-radius: 35px; border: 3px solid #ff773355;
      pointer-events: none; filter: blur(2.5px); z-index: -1;
      animation: haloGlow 4s infinite alternate cubic-bezier(0.6, 1.7, 0.2, 1);
    }
    @keyframes haloGlow {
      0% { box-shadow: 0 0 24px 7px #ff773388, 0 0 40px 4px #ff440033;}
      100% { box-shadow: 0 0 55px 20px #ff773355, 0 0 90px 12px #ff440022;}
    }
    input:focus-visible {
      box-shadow: 0 0 0 2px #ff8844, 0 0 12px #ff7733, inset 0 0 30px #ff8844;
      outline: none;
    }
    button:active {
      box-shadow: 0 0 20px 5px #ff3311, 0 0 45px 8px #ff884488, inset 0 0 10px #fff7;
      filter: brightness(1.13) saturate(1.19);
      transform: scale(0.98);
    }
    .box,
    #successBox {
      transition: box-shadow 0.4s, background 0.4s, filter 0.2s, color 0.3s;
    }
    .box:before {
      content: ""; position: absolute; left: 50%; top: 16px;
      width: 66px; height: 3px;
      background: linear-gradient(90deg, #ff6622 0%, #fff0 100%);
      border-radius: 2px; transform: translateX(-50%);
      opacity: 0.31; pointer-events: none;
    }
    .box:after { pointer-events: none;}
    .box:hover, .box:focus-within {
      box-shadow: 0 0 60px #ff7733, 0 0 0 2.9px #ff7733bb, 0 0 160px #ff440022, 0 6px 18px #370500;
      filter: brightness(1.03) saturate(1.08);
    }
    @media (max-width: 370px) {
      .box { padding: 12px 2vw 13px 2vw;}
      h1 { font-size: 1.7rem;}
    }
    @import url("https://fonts.googleapis.com/css?family=Tajawal:900&display=swap");
    ::-webkit-scrollbar { width: 0.4em; background: transparent;}
    ::-webkit-scrollbar-thumb { background: #ff6622a5; border-radius: 6px;}
  </style>
</head>
<body>
  <canvas id="starCanvas"></canvas>
  <div id="logo" class="neon-glow">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù†ÙˆÙØ§</div>
  <div class="box neon-glow" id="loginBox">
    <h1>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
    <div id="loginError" class="error hidden"></div>
    <input type="text" id="loginUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="off" />
    <input type="text" id="loginName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" autocomplete="off" />
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <div class="switch-text" onclick="switchToRegister()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</div>
  </div>
  <div class="box neon-glow hidden" id="registerBox">
    <h1>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h1>
    <div id="registerError" class="error hidden"></div>
    <input type="text" id="regUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="off" />
    <input type="text" id="regName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" autocomplete="off" />
    <button onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
    <div class="switch-text" onclick="switchToLogin()">Ù„Ø¯ÙŠ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„</div>
  </div>
  <div class="box neon-glow hidden" id="successBox">ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­</div>
  <script>
    // Ù†Ø¬ÙˆÙ… Ø§Ù„Ø®Ù„ÙÙŠØ©
    const canvas = document.getElementById("starCanvas");
    const ctx = canvas.getContext("2d");
    let stars = [];
    function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight;}
    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

    function createStars(num) {
      stars = [];
      for (let i = 0; i < num; i++)
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          r: Math.random() * 1 + 0.6,
          speed: Math.random() * 0.045 + 0.018,
          twinkle: Math.random() * 1000,
          alpha: Math.random() * 0.3 + 0.6,
        });
    }
    function animateStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let s of stars) {
        s.x += s.speed;
        if (s.x > canvas.width) {
          s.x = 0;
          s.y = Math.random() * canvas.height;
        }
        let flicker = Math.abs(Math.sin((Date.now() + s.twinkle) * 0.002));
        ctx.globalAlpha = s.alpha * (0.77 + flicker * 0.25);
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r * (1 + flicker * 0.5), 0, Math.PI * 2);
        ctx.fillStyle = "#fff";
        ctx.fill();
      }
      ctx.globalAlpha = 1;
      requestAnimationFrame(animateStars);
    }
    function adjustStars() {
      let w = window.innerWidth, h = window.innerHeight;
      let num = Math.max(60, Math.min(100, Math.floor((w * h) / 18000)));
      createStars(num);
    }
    window.addEventListener("resize", adjustStars);
    adjustStars();
    animateStars();

    // ÙˆØ§Ø¬Ù‡Ø© ØªØ³Ø¬ÙŠÙ„ ÙˆØ¯Ø®ÙˆÙ„
    function switchToRegister() {
      clearErrors();
      document.getElementById("loginBox").classList.add("hidden");
      document.getElementById("registerBox").classList.remove("hidden");
      document.getElementById("successBox").classList.add("hidden");
      clearInputs();
    }
    function switchToLogin() {
      clearErrors();
      document.getElementById("registerBox").classList.add("hidden");
      document.getElementById("loginBox").classList.remove("hidden");
      document.getElementById("successBox").classList.add("hidden");
      clearInputs();
    }
    function clearErrors() {
      document.getElementById("loginError").classList.add("hidden");
      document.getElementById("registerError").classList.add("hidden");
    }
    function clearInputs() {
      document.getElementById("loginUser").value = "";
      document.getElementById("loginName").value = "";
      document.getElementById("regUser").value = "";
      document.getElementById("regName").value = "";
    }
    function register() {
      clearErrors();
      const user = document.getElementById("regUser").value.trim();
      const name = document.getElementById("regName").value.trim();
      if (!user || !name) {
        showError("registerError", "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!");
        return;
      }
      let accounts = JSON.parse(localStorage.getItem("zpy_accounts") || "[]");
      if (accounts.some(acc => acc.user.toLowerCase() === user.toLowerCase())) {
        showError("registerError", "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„!");
        return;
      }
      accounts.push({ user, name });
      localStorage.setItem("zpy_accounts", JSON.stringify(accounts));
      document.getElementById("registerBox").classList.add("hidden");
      document.getElementById("loginBox").classList.add("hidden");
      document.getElementById("successBox").classList.remove("hidden");
      setTimeout(() => {
        switchToLogin();
        clearInputs();
      }, 1200);
    }
    function login() {
      clearErrors();
      const user = document.getElementById("loginUser").value.trim();
      const name = document.getElementById("loginName").value.trim();
      if (!user || !name) {
        showError("loginError", "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!");
        return;
      }
      let accounts = JSON.parse(localStorage.getItem("zpy_accounts") || "[]");
      let found = accounts.find(acc =>
        acc.user.toLowerCase() === user.toLowerCase() && acc.name === name
      );
      if (found) {
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("registerBox").classList.add("hidden");
        document.getElementById("successBox").classList.remove("hidden");
        document.getElementById("successBox").innerText =
          "Ù…Ø±Ø­Ø¨Ø§Ù‹ " + found.name + " ğŸ‘‹";
        // Ø­ÙØ¸ Ø§Ù„Ø¬Ù„Ø³Ø©
        localStorage.setItem("zpy_loggedin", JSON.stringify(found));
        setTimeout(() => {
          location.href = "zylan.html"; // Ø§Ø³Ù… ØµÙØ­Ø© Ø§Ù„Ø¯Ø±ÙˆØ³
        }, 1000);
      } else {
        showError("loginError", "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ ØºÙŠØ± ØµØ­ÙŠØ­!");
      }
    }
    function showError(elementId, message) {
      const errorElement = document.getElementById(elementId);
      errorElement.textContent = message;
      errorElement.classList.remove("hidden");
    }
    document.querySelectorAll("input").forEach((inp) => {
      inp.addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
          if (this.closest("#loginBox")) login();
          else if (this.closest("#registerBox")) register();
        }
      });
    });
    // Ø¥Ø°Ø§ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ù‡ Ù…Ù† Ù‚Ø¨Ù„ØŒ Ø§Ø¯Ø®Ù„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    window.onload = function() {
      if(localStorage.getItem("zpy_loggedin")){
        location.href = "zylan.html";
      }
    }
  </script>
</body>
</html>
